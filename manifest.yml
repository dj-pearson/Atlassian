modules:
  jira:customField:
    - key: multi-assignees-field
      name: Multi Assignees
      description: "Assign multiple users to issues with role-based responsibilities"
      type: user
      collection: list
      edit:
        resource: multi-assignees-edit
        render: native
      view:
        resource: multi-assignees-view
        render: native
  jira:projectPage:
    - key: capacity-dashboard
      title: Team Capacity Dashboard
      description: "Real-time team workload monitoring and capacity analytics"
      resource: capacity-dashboard
      render: native
  jira:uiModifications:
    - key: assignee-sync-mod
      contexts:
        - issue-create
        - issue-edit
      function: assignee-sync-handler
  function:
    - key: assignee-sync-handler
      handler: src/handlers/ui-modifications.js
    - key: issue-event-handler
      handler: src/handlers/issue-events.js
    - key: notification-handler
      handler: src/handlers/notifications.js
    - key: workflow-handler
      handler: src/handlers/workflow.js
  webtrigger:
    - key: issue-created-trigger
      function: issue-event-handler
    - key: issue-updated-trigger
      function: issue-event-handler
    - key: issue-transitioned-trigger
      function: workflow-handler
  trigger:
    - key: jira-issue-created
      events:
        - avi:jira:created:issue
      function: issue-event-handler
    - key: jira-issue-updated
      events:
        - avi:jira:updated:issue
      function: issue-event-handler
    - key: jira-issue-transitioned
      events:
        - avi:jira:updated:issue:status
      function: workflow-handler

resources:
  - key: multi-assignees-edit
    path: src/frontend/multi-assignees-edit.jsx
  - key: multi-assignees-view
    path: src/frontend/multi-assignees-view.jsx
  - key: capacity-dashboard
    path: src/frontend/capacity-dashboard.jsx

app:
  runtime:
    name: nodejs18.x
  id: ari:cloud:ecosystem::app/a1620fa0-c5ba-4d26-bd17-4f9f1bddf7d4

permissions:
  scopes:
    - read:jira-work
    - write:jira-work
    - read:jira-user
    - manage:jira-project
    - read:jira-configuration
    - write:jira-configuration
